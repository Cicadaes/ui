/* TODO: Create some premade grid templates (each in its own class) */

/* Container */

.con {
  padding-right: calc(var(--gutter-col) / 2);
  padding-left: calc(var(--gutter-col) / 2);
  margin-right: auto;
  margin-left: auto;

  @media (--breakpoint-large) {
    max-width: 70em;
    padding-right: var(--gutter-col);
    padding-left: var(--gutter-col);
  }
}

/* Grid */

.grid,
.grid-inline {
  grid-template-columns: var(--cols);
  grid-template-rows: var(--rows);
  grid-auto-columns: var(--item-size);
  grid-auto-rows: var(--item-size);
  grid-gap: var(--gutter-row) var(--gutter-col);
}

.grid {
  display: grid;
}

.grid-inline {
  display: inline-grid;
}

/*
  .x = number of columns in grid
  .y = number of rows in grid
  .c = starting column
  .r = starting row
  .w = item width
  .h = item height

  cols = 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12
  rows = 1, 2, 3, 4, 5, 6

  -ns = not small (both medium and large)
  -m = medium
  -l = large
*/

@each $step in var(--col-steps) {
  .x$(step) { grid-template-columns: repeat($step, var(--item-size)); }
  .c$(step) { grid-column-start: $step; }
  .w$(step) { grid-column-end: span $step; }

  @each $media, $ext in (var(--breakpoint-media)), (var(--breakpoints)) {
    @media ($media) {
      .x$(step)$(ext) { grid-template-columns: repeat($step, var(--item-size)); }
      .c$(step)$(ext) { grid-column-start: $step; }
      .w$(step)$(ext) { grid-column-end: span $step; }
    }
  }
}

@each $step in var(--row-steps) {
  .y$(step) { grid-template-rows: repeat($step, auto); }
  .r$(step) { grid-row-start: $step; }
  .h$(step) { grid-row-end: span $step; }

  @each $media, $ext in (var(--breakpoint-media)), (var(--breakpoints)) {
    @media ($media) {
      .y$(step)$(ext) { grid-template-rows: repeat($step, auto); }
      .r$(step)$(ext) { grid-row-start: $step; }
      .h$(step)$(ext) { grid-row-end: span $step; }
    }
  }
}

.align-row-stretch { justify-items: stretch; } /* default */
.align-row-start { justify-items: start; }
.align-row-end { justify-items: end; }
.align-row-center { justify-items: center; }

.align-col-stretch { align-items: stretch; } /* default */
.align-col-start { align-items: start; }
.align-col-end { align-items: end; }
.align-col-center { align-items: center; }

.align-item-row-stretch { justify-self: stretch; } /* default */
.align-item-row-start { justify-self: start; }
.align-item-row-end { justify-self: end; }
.align-item-row-center { justify-self: center; }

.align-item-col-stretch { align-self: stretch; } /* default */
.align-item-col-start { align-self: start; }
.align-item-col-end { align-self: end; }
.align-item-col-center { align-self: center; }

.justify-row-stretch { justify-content: stretch; } /* default */
.justify-row-start { justify-content: start; }
.justify-row-end { justify-content: end; }
.justify-row-center { justify-content: center; }
.justify-row-space-around { justify-content: space-around; }
.justify-row-space-between { justify-content: space-between; }
.justify-row-space-evenly { justify-content: space-evenly; }

.justify-col-stretch { align-content: stretch; } /* default */
.justify-col-start { align-content: start; }
.justify-col-end { align-content: end; }
.justify-col-center { align-content: center; }
.justify-col-space-around { align-content: space-around; }
.justify-col-space-between { align-content: space-between; }
.justify-col-space-evenly { align-content: space-evenly; }

.flow-row { grid-auto-flow: row; } /* default */
.flow-col { grid-auto-flow: column; }
.flow-row-dense { grid-auto-flow: row dense; }
.flow-col-dense { grid-auto-flow: column dense; }

@each $media, $ext in (var(--breakpoint-media)), (var(--breakpoints)) {
  @media ($media) {
    .align-row-stretch$(ext) { justify-items: stretch; }
    .align-row-start$(ext) { justify-items: start; }
    .align-row-end$(ext) { justify-items: end; }
    .align-row-center$(ext) { justify-items: center; }

    .align-col-stretch$(ext) { align-items: stretch; }
    .align-col-start$(ext) { align-items: start; }
    .align-col-end$(ext) { align-items: end; }
    .align-col-center$(ext) { align-items: center; }

    .align-item-row-stretch$(ext) { justify-self: stretch; }
    .align-item-row-start$(ext) { justify-self: start; }
    .align-item-row-end$(ext) { justify-self: end; }
    .align-item-row-center$(ext) { justify-self: center; }

    .align-item-col-stretch$(ext) { align-self: stretch; }
    .align-item-col-start$(ext) { align-self: start; }
    .align-item-col-end$(ext) { align-self: end; }
    .align-item-col-center$(ext) { align-self: center; }

    .justify-row-stretch$(ext) { justify-content: stretch; }
    .justify-row-start$(ext) { justify-content: start; }
    .justify-row-end$(ext) { justify-content: end; }
    .justify-row-center$(ext) { justify-content: center; }
    .justify-row-space-around$(ext) { justify-content: space-around; }
    .justify-row-space-between$(ext) { justify-content: space-between; }
    .justify-row-space-evenly$(ext) { justify-content: space-evenly; }

    .justify-col-stretch$(ext) { align-content: stretch; }
    .justify-col-start$(ext) { align-content: start; }
    .justify-col-end$(ext) { align-content: end; }
    .justify-col-center$(ext) { align-content: center; }
    .justify-col-space-around$(ext) { align-content: space-around; }
    .justify-col-space-between$(ext) { align-content: space-between; }
    .justify-col-space-evenly$(ext) { align-content: space-evenly; }

    .flow-row$(ext) { grid-auto-flow: row; }
    .flow-col$(ext) { grid-auto-flow: column; }
    .flow-row-dense$(ext) { grid-auto-flow: row dense; }
    .flow-col-dense$(ext) { grid-auto-flow: column dense; }
  }
}
